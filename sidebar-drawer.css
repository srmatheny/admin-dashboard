/**
 * Sliding drawer sidebar component.
 *
 * Example HTML:
 * <button class="drawer-toggle" type="button" aria-expanded="false" aria-controls="app-drawer">
 *   Menu
 * </button>
 * <div id="app-drawer" class="drawer">
 *   <div class="drawer__backdrop" aria-hidden="true"></div>
 *   <aside class="drawer__panel" role="navigation">
 *     <!-- Sidebar content -->
 *   </aside>
 * </div>
 *
 * Toggle the `drawer--open` class on the `.drawer` element to display the sidebar.
 */

:root {
    --drawer-transition-duration: 300ms;
    --drawer-transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
    --drawer-panel-width: min(85vw, 22rem);
}

.drawer {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: stretch;
    justify-content: flex-start;
    pointer-events: none;
    z-index: 1000;
}

.drawer__panel {
    background-color: #0ea5e9;
    color: #ffffff;
    width: var(--drawer-panel-width);
    max-width: 100%;
    height: 100vh;
    padding: 2rem 1.75rem;
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
    -webkit-transform: translateX(-100%);
    transform: translateX(-100%);
    -webkit-transition: -webkit-transform var(--drawer-transition-duration) var(--drawer-transition-easing);
    transition: transform var(--drawer-transition-duration) var(--drawer-transition-easing);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    overflow-y: auto;
    will-change: transform;
}

.drawer__backdrop {
    flex: 1;
    background-color: rgba(15, 23, 42, 0.45);
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    -webkit-transition: opacity var(--drawer-transition-duration) linear, visibility 0s linear var(--drawer-transition-duration);
    transition: opacity var(--drawer-transition-duration) linear, visibility 0s linear var(--drawer-transition-duration);
}

.drawer--open {
    pointer-events: auto;
}

.drawer--open .drawer__panel {
    -webkit-transform: translateX(0);
    transform: translateX(0);
}

.drawer--open .drawer__backdrop {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    -webkit-transition-delay: 0s, 0s;
    transition-delay: 0s, 0s;
}

.drawer--closing .drawer__backdrop {
    pointer-events: none;
}

@media (min-width: 64rem) {
    .drawer__panel {
        padding-inline: 2.5rem;
    }
}

@media (prefers-reduced-motion: reduce) {
    .drawer__panel,
    .drawer__backdrop {
        -webkit-transition-duration: 1ms;
        transition-duration: 1ms;
    }
}
